# =============================================================================
# FarmPro API Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=production
PORT=3000
BASE_URL=https://your-app-name.ondigitalocean.app

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL database URL for DigitalOcean Managed Database
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://username:password@your-db-host:25060/your-database?sslmode=require

# =============================================================================
# Authentication & Security
# =============================================================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-here
JWT_EXPIRES_IN=1h
JWT_EXPIRES_IN_SECONDS=3600
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-key-here

# =============================================================================
# External Services
# =============================================================================
# OpenAI API (for AI intelligence features)
OPENAI_API_KEY=sk-your-openai-api-key-here
# Enable/disable OpenAI functionality (true/false)
OPENAI_ENABLED=true

# Weather API (for weather data) - OpenWeather API 3.0
WEATHER_API_KEY=your-openweathermap-api-key-here
WEATHER_API_URL=https://api.openweathermap.org/data/3.0/onecall

# =============================================================================
# Email Configuration (Brevo)
# =============================================================================
BREVO_API_KEY=your-brevo-api-key-here
BREVO_SENDER_NAME=FarmPro
BREVO_SENDER_EMAIL=no-reply@farmpro.app
EMAIL_TEMPLATES_PATH=/app/src/email-templates

# =============================================================================
# Frontend Configuration
# =============================================================================
FRONTEND_URL=https://your-frontend-domain.com

# =============================================================================
# CORS Configuration
# =============================================================================
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://your-app-name.ondigitalocean.app

# =============================================================================
# Organization Configuration
# =============================================================================
ORGANIZATION_ADDRESS=FarmPro Inc., 123 Agricultural Way, Farm City, FC 12345

# =============================================================================
# Caching (Redis)
# =============================================================================
# Redis URL for DigitalOcean Managed Redis
# Format: redis://username:password@host:port
REDIS_URL=redis://username:password@your-redis-host:25061

# =============================================================================
# File Storage Configuration
# =============================================================================
# Storage Provider: 'aws' or 'cloudflare'
STORAGE_PROVIDER=aws

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=farmpro-media

# Cloudflare R2 Configuration (alternative to AWS)
CLOUDFLARE_R2_ACCESS_KEY_ID=your-r2-access-key-id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
CLOUDFLARE_R2_BUCKET=farmpro-media
CLOUDFLARE_R2_REGION=auto
CLOUDFLARE_R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
CLOUDFLARE_R2_CUSTOM_DOMAIN=https://media.your-domain.com
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id

# =============================================================================
# Video Compression Configuration
# =============================================================================
# Enable/disable video compression
VIDEO_COMPRESSION_ENABLED=true

# FFmpeg paths (usually auto-detected)
# FFMPEG_PATH=ffmpeg
# FFPROBE_PATH=ffprobe

# Temporary directory for video processing
# TEMP_DIR=/tmp

# Video compression size thresholds (in bytes)
VIDEO_MIN_COMPRESSION_SIZE=5242880  # 5MB
VIDEO_MAX_COMPRESSION_SIZE=104857600  # 100MB

# Default compression quality: 'low', 'medium', 'high'
VIDEO_DEFAULT_QUALITY=medium

# Compression timeout (in milliseconds)
VIDEO_COMPRESSION_TIMEOUT=300000  # 5 minutes

# Cleanup temporary files after processing
VIDEO_CLEANUP_TEMP_FILES=true

# Temporary file retention time (in milliseconds)
VIDEO_TEMP_RETENTION_MS=300000  # 5 minutes

# =============================================================================
# Payment Processing
# =============================================================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret-here

# Paystack Configuration
PAYSTACK_SECRET_KEY=sk_test_your-paystack-secret-key-here

# =============================================================================
# DigitalOcean App Platform Specific
# =============================================================================
# These are automatically set by DigitalOcean App Platform
# DO_APP_ID=your-app-id
# DO_APP_NAME=your-app-name
# DO_APP_REGION=nyc
# DO_APP_SPEC=your-app-spec

# =============================================================================
# Optional Configuration
# =============================================================================
# Rate Limiting (optional overrides)
# RATE_LIMIT_TTL=60000
# RATE_LIMIT_MAX=100

# Logging Level
# LOG_LEVEL=info

# Health Check Configuration
# HEALTH_CHECK_TIMEOUT=5000
